<div class="settings-block" id="training-block">
  <h3>Training</h3>

  <div class="group row">
    <div>
      <label>Batch size</label>
      <input type="number" min="1" step="1" value="32" id="train-batch-size">
    </div>

    <div class="checkbox-group">
      <label>
        <input type="checkbox" id="train-shuffle" checked>
        Shuffle dataset
      </label>
    </div>
  </div>

  <div class="group">
    <label>Training mode</label>
    <select id="training-mode">
      <option value="epochs" selected>By epochs</option>
      <option value="batches">By batches</option>
    </select>
  </div>

  <!-- EPOCHS -->
  <div class="group" id="training-epochs-block">
    <label>Epochs</label>
    <input type="number" step="0.1" value="10" id="train-epochs" min="0">
    <small class="hint">Fractional epochs allowed (e.g. 0.5)</small>
  </div>

  <!-- BATCHES -->
  <div class="group hidden" id="training-batches-block">
    <label>Total batches</label>
    <input type="number" step="1" value="1000" id="train-batches">
  </div>
</div>

<script>
  const modeSelect = document.getElementById("training-mode");
  const epochsBlock = document.getElementById("training-epochs-block");
  const batchesBlock = document.getElementById("training-batches-block");

  function updateTrainingMode() {
    const mode = modeSelect.value;

    if (mode === "epochs") {
      epochsBlock.classList.remove("hidden");
      batchesBlock.classList.add("hidden");
    } else {
      epochsBlock.classList.add("hidden");
      batchesBlock.classList.remove("hidden");
    }
  }

  // реакция на изменение
  modeSelect.addEventListener("change", updateTrainingMode);

  // корректное состояние при загрузке страницы
  updateTrainingMode();
</script>